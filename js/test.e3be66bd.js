(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["test"],{"13d5":function(e,t,s){"use strict";var a=s("23e7"),i=s("d58f").left,r=s("a640"),n=s("ae40"),o=r("reduce"),l=n("reduce",{1:0});a({target:"Array",proto:!0,forced:!o||!l},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"159b":function(e,t,s){var a=s("da84"),i=s("fdbc"),r=s("17c2"),n=s("9112");for(var o in i){var l=a[o],c=l&&l.prototype;if(c&&c.forEach!==r)try{n(c,"forEach",r)}catch(h){c.forEach=r}}},"17c2":function(e,t,s){"use strict";var a=s("b727").forEach,i=s("a640"),r=s("ae40"),n=i("forEach"),o=r("forEach");e.exports=n&&o?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},"19be":function(e,t,s){"use strict";var a=s("d1a0"),i=s.n(a);i.a},"1dde":function(e,t,s){var a=s("d039"),i=s("b622"),r=s("2d00"),n=i("species");e.exports=function(e){return r>=51||!a((function(){var t=[],s=t.constructor={};return s[n]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2762:function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("testerComponent")],1)},i=[],r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{items:e.years,"item-text":"hebrewYear","item-value":"year",label:"שנה",placeholder:"בחר שנה"},model:{value:e.selections.year,callback:function(t){e.$set(e.selections,"year",t)},expression:"selections.year"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-autocomplete",{attrs:{multiple:"",items:e.mossadot,"item-text":"mossadName","item-value":"mossadId",label:"מוסד",placeholder:"בחר מוסד"},model:{value:e.selections.mossadId,callback:function(t){e.$set(e.selections,"mossadId",t)},expression:"selections.mossadId"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{multiple:"",items:e.reformTypes,"item-text":"name","item-value":"reformId",placeholder:"בחר רפורמה",label:"רפורמה"},model:{value:e.selections.reformType,callback:function(t){e.$set(e.selections,"reformType",t)},expression:"selections.reformType"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-select",{attrs:{multiple:"",items:e.codeDescription,"item-text":function(e){return e.code+" - "+e.codeDescription},"item-value":"code",label:"קוד פיצול",placeholder:"בחר קוד פיצול"},model:{value:e.selections.code,callback:function(t){e.$set(e.selections,"code",t)},expression:"selections.code"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-text-field",{attrs:{label:"סטטוס"},model:{value:e.selections.status,callback:function(t){e.$set(e.selections,"status",t)},expression:"selections.status"}})],1)],1),s("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.getSelectedData()}}},[e._v("חפש")]),s("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.test()}}},[e._v("test")]),s("div",{attrs:{id:"weeklyHoursReport"}},[s("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.dataToDisplay,search:e.search,"footer-props":{"items-per-page-options":[20,50,100,-1],"items-per-page-text":"מספר תוצאות  :"},"item-key":"empId"},scopedSlots:e._u([{key:"top",fn:function(){return[s("v-toolbar",{attrs:{flat:"",color:"white"}},[s("v-toolbar-title",[s("v-card-title",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"Search",placeholder:"חפש","single-line":"",autocomplete:"off","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1)],1)],1),s("v-spacer")],1)]},proxy:!0},{key:"footer",fn:function(){return[s("div",[s("td",[s("strong",[e._v("סך שעות פרונטליות - ")])]),s("td",{staticClass:"text-xs-right"},[e._v(e._s(e.totalHours()))])])]},proxy:!0}])})],1)],1)},n=[],o=(s("4de4"),s("7db0"),s("4160"),s("13d5"),s("45fc"),s("159b"),s("bc3a")),l=s.n(o),c={data:function(){return{headers:[],search:"",years:[{year:2021,hebrewYear:'תשפ"א'},{year:2022,hebrewYear:'תשפ"ב'},{year:2023,hebrewYear:'תשפ"ג'},{year:2024,hebrewYear:'תשפ"ד'},{year:2025,hebrewYear:'תשפ"ה'}],mossadot:[],employees:[],reformTypes:[],codeDescription:[],existData:[],dataToDisplay:[],selections:{year:0,mossadId:null,reformType:null,code:null,status:null}}},created:function(){this.initilize(),this.getCodeDescription(),this.getMossadot(),this.getReformTypes(),this.getEmployees()},methods:{initilize:function(){this.headers=[{text:"תעודת זהות",value:"empId"},{text:"שם פרטי",value:"firstName"},{text:"שם משפחה",value:"lastName"},{text:"שעות פרונטליות",value:"frontalHours"}]},getMossadot:function(){var e=this;l.a.get("mossadot/all").then((function(t){e.mossadot=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}))},getEmployees:function(){var e=this;l.a.get("/employees/all").then((function(t){e.employees=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}))},getReformTypes:function(){var e=this;l.a.get("/reformTypes/relevant").then((function(t){e.reformTypes=t.data})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}))},getCodeDescription:function(){var e=this;l.a.get("/convertHours/all").then((function(t){e.codeDescription=t.data,e.codeDescription=t.data.filter((function(e){return 1==e.hourType||0==e.hourType}))})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}))},getSelectedData:function(){var e=this;l.a.get("teacherEmploymentDetails/all").then((function(t){e.existData=t.data.filter((function(t){return e.codeDescription.some((function(e){return e.code==t.empCode}))})),e.setDataToDispay()})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}))},setDataToDispay:function(){var e=this;this.dataToDisplay=[],this.existData.forEach((function(t){var s=e.dataToDisplay.find((function(e){return e.empId==t.empId}));null!=s?s.frontalHours+=t.hours:e.dataToDisplay.push({empId:t.empId,frontalHours:t.hours})})),this.dataToDisplay.forEach((function(t){var s=e.employees.find((function(e){return e.empId==t.empId}));t.firstName=s.firstName,t.lastName=s.lastName}))},totalHours:function(){return this.dataToDisplay.reduce((function(e,t){return e+parseFloat(t.frontalHours)}),0)},test:function(){var e=this;l.a.get("teacherEmploymentDetails/test",{params:{begda:this.formatDate(new Date(this.selections.year-2,8,1)),endda:this.formatDate(new Date(this.selections.year+2,5,20)),mossadId:this.selections.mossadId+"",reformType:this.selections.reformType+"",empCode:this.selections.code+"",status:this.selections.status}}).then((function(t){e.existData=t.data.filter((function(t){return e.codeDescription.some((function(e){return e.code==t.empCode}))})),e.setDataToDispay()})).catch((function(t){return e.$store.dispatch("displayErrorMessage",{error:t})}))},formatDate:function(e){var t,s=new Date(e),a=s.getFullYear(),i=0,r=0;return i+=s.getMonth()+1,i<10&&(i="0"+i),s.getDate()<10&&(r="0"),r+=s.getDate(),t=a+"-"+i+"-"+r,t}}},h=c,d=(s("19be"),s("2877")),u=s("6544"),p=s.n(u),f=s("c6a6"),m=s("8336"),v=s("99d9"),y=s("62ad"),g=s("8fea"),I=s("0fd9"),S=s("b974"),b=s("2fa4"),D=s("8654"),x=s("71d9"),T=s("2a7f"),w=Object(d["a"])(h,r,n,!1,null,"0e4afa3a",null),C=w.exports;p()(w,{VAutocomplete:f["a"],VBtn:m["a"],VCardTitle:v["b"],VCol:y["a"],VDataTable:g["a"],VRow:I["a"],VSelect:S["a"],VSpacer:b["a"],VTextField:D["a"],VToolbar:x["a"],VToolbarTitle:T["a"]});var L={name:"test",components:{testerComponent:C},data:function(){return{}}},M=L,V=Object(d["a"])(M,a,i,!1,null,"4ac05c98",null);t["default"]=V.exports},"2bfd":function(e,t,s){},4160:function(e,t,s){"use strict";var a=s("23e7"),i=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"45fc":function(e,t,s){"use strict";var a=s("23e7"),i=s("b727").some,r=s("a640"),n=s("ae40"),o=r("some"),l=n("some");a({target:"Array",proto:!0,forced:!o||!l},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4de4":function(e,t,s){"use strict";var a=s("23e7"),i=s("b727").filter,r=s("1dde"),n=s("ae40"),o=r("filter"),l=n("filter");a({target:"Array",proto:!0,forced:!o||!l},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"7db0":function(e,t,s){"use strict";var a=s("23e7"),i=s("b727").find,r=s("44d2"),n=s("ae40"),o="find",l=!0,c=n(o);o in[]&&Array(1)[o]((function(){l=!1})),a({target:"Array",proto:!0,forced:l||!c},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(o)},b727:function(e,t,s){var a=s("0366"),i=s("44ad"),r=s("7b0b"),n=s("50c4"),o=s("65f0"),l=[].push,c=function(e){var t=1==e,s=2==e,c=3==e,h=4==e,d=6==e,u=5==e||d;return function(p,f,m,v){for(var y,g,I=r(p),S=i(I),b=a(f,m,3),D=n(S.length),x=0,T=v||o,w=t?T(p,D):s?T(p,0):void 0;D>x;x++)if((u||x in S)&&(y=S[x],g=b(y,x,I),e))if(t)w[x]=g;else if(g)switch(e){case 3:return!0;case 5:return y;case 6:return x;case 2:l.call(w,y)}else if(h)return!1;return d?-1:c||h?h:w}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c6a6:function(e,t,s){"use strict";s("2bfd");var a=s("b974"),i=s("8654"),r=s("d9f7"),n=s("80d2");const o={...a["b"],offsetY:!0,offsetOverflow:!0,transition:!1};t["a"]=a["a"].extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(e,t,s)=>s.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:a["a"].options.props.menuProps.type,default:()=>o},noFilter:Boolean,searchInput:{type:String,default:void 0}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...a["a"].options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map(e=>this.getValue(e))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some(e=>!this.hasItem(e)):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter(e=>{const t=Object(n["q"])(e,this.itemText),s=null!=t?String(t):"";return this.filter(e,String(this.internalSearch),s)})},internalSearch:{get(){return this.lazySearch},set(e){this.lazySearch=e,this.$emit("update:search-input",e)}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const e=a["a"].options.computed.$_menuProps.call(this);return e.contentClass=("v-autocomplete__content "+(e.contentClass||"")).trim(),{...o,...e}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find(e=>this.valueComparator(this.getValue(e),this.getValue(this.internalValue)))},listData(){const e=a["a"].options.computed.listData.call(this);return e.props={...e.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.updateSelf())},isMenuActive(e){!e&&this.hasSlot&&(this.lazySearch=void 0)},items(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(e,t){e!==t&&(this.setMenuIndex(-1),this.$nextTick(()=>{this.internalSearch&&(1===e.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.setMenuIndex(0))}))},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(e){this.searchIsDirty||(this.multiple&&e===n["w"].left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===n["w"].right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==n["w"].backspace&&e!==n["w"].delete||this.deleteCurrentItem())},deleteCurrentItem(){const e=this.selectedIndex,t=this.selectedItems[e];if(!this.isInteractive||this.getDisabled(t))return;const s=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==s)return void(this.selectedIndex=s);const a=this.selectedItems.length,i=e!==a-1?e:e-1,r=this.selectedItems[i];r?this.selectItem(t):this.setValue(this.multiple?[]:void 0),this.selectedIndex=i},clearableCallback(){this.internalSearch=void 0,a["a"].options.methods.clearableCallback.call(this)},genInput(){const e=i["a"].options.methods.genInput.call(this);return e.data=Object(r["a"])(e.data,{attrs:{"aria-activedescendant":Object(n["o"])(this.$refs.menu,"activeTile.id"),autocomplete:Object(n["o"])(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot(){const e=a["a"].options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections(){return this.hasSlot||this.multiple?a["a"].options.methods.genSelections.call(this):[]},onClick(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput(e){if(this.selectedIndex>-1||!e.target)return;const t=e.target,s=t.value;t.value&&this.activateMenu(),this.internalSearch=s,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){const t=e.keyCode;a["a"].options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown(e){},onTabDown(e){a["a"].options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown(e){e.preventDefault(),this.activateMenu()},selectItem(e){a["a"].options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems(){a["a"].options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick(()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))})},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy(e){if(-1===this.selectedIndex)return;const t=this.selectedItems[this.selectedIndex],s=this.getText(t);e.clipboardData.setData("text/plain",s),e.clipboardData.setData("text/vnd.vuetify.autocomplete.item+plain",s),e.preventDefault()}}})},d1a0:function(e,t,s){},d58f:function(e,t,s){var a=s("1c0b"),i=s("7b0b"),r=s("44ad"),n=s("50c4"),o=function(e){return function(t,s,o,l){a(s);var c=i(t),h=r(c),d=n(c.length),u=e?d-1:0,p=e?-1:1;if(o<2)while(1){if(u in h){l=h[u],u+=p;break}if(u+=p,e?u<0:d<=u)throw TypeError("Reduce of empty array with no initial value")}for(;e?u>=0:d>u;u+=p)u in h&&(l=s(l,h[u],u,c));return l}};e.exports={left:o(!1),right:o(!0)}},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);
//# sourceMappingURL=test.e3be66bd.js.map