(function(o){function e(e){for(var r,s,l=e[0],d=e[1],i=e[2],u=0,m=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(o[r]=d[r]);c&&c(e);while(m.length)m.shift()();return n.push.apply(n,i||[]),t()}function t(){for(var o,e=0;e<n.length;e++){for(var t=n[e],r=!0,s=1;s<t.length;s++){var l=t[s];0!==a[l]&&(r=!1)}r&&(n.splice(e--,1),o=d(d.s=t[0]))}return o}var r={},s={app:0},a={app:0},n=[];function l(o){return d.p+"js/"+({"AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":"AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours","AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":"AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours","AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours":"AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours",AdditionalRewards:"AdditionalRewards","EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours":"EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours",ImportData:"ImportData",Mossadot:"Mossadot",reportWeeklyHours:"reportWeeklyHours",HireEmployee:"HireEmployee",mossadotHours:"mossadotHours",calcHours:"calcHours",EmployeeInfo:"EmployeeInfo",login:"login"}[o]||o)+"."+{"AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":"773fc2ea","AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":"8a9e455c","AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours":"a6b9856b",AdditionalRewards:"6764aef6","EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours":"13c2ac85",ImportData:"36b83278",Mossadot:"04d43153",reportWeeklyHours:"facb872e",HireEmployee:"55944d86",mossadotHours:"0aea2607",calcHours:"4c2cc8d3",EmployeeInfo:"1fdf1daa",login:"204459cc"}[o]+".js"}function d(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return o[e].call(t.exports,t,t.exports,d),t.l=!0,t.exports}d.e=function(o){var e=[],t={"AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":1,"AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":1,"AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours":1,ImportData:1,Mossadot:1,reportWeeklyHours:1,HireEmployee:1,mossadotHours:1,calcHours:1,EmployeeInfo:1,login:1};s[o]?e.push(s[o]):0!==s[o]&&t[o]&&e.push(s[o]=new Promise((function(e,t){for(var r="css/"+({"AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":"AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours","AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":"AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours","AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours":"AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours",AdditionalRewards:"AdditionalRewards","EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours":"EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours",ImportData:"ImportData",Mossadot:"Mossadot",reportWeeklyHours:"reportWeeklyHours",HireEmployee:"HireEmployee",mossadotHours:"mossadotHours",calcHours:"calcHours",EmployeeInfo:"EmployeeInfo",login:"login"}[o]||o)+"."+{"AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":"96da5769","AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours":"352e0675","AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours":"3bd711e3",AdditionalRewards:"31d6cfe0","EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours":"31d6cfe0",ImportData:"d6f7fc97",Mossadot:"dea1f2f3",reportWeeklyHours:"25ababd5",HireEmployee:"95add6b6",mossadotHours:"1ee916cf",calcHours:"b00bea6e",EmployeeInfo:"ffe3e426",login:"3bbceb76"}[o]+".css",a=d.p+r,n=document.getElementsByTagName("link"),l=0;l<n.length;l++){var i=n[l],u=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(u===r||u===a))return e()}var m=document.getElementsByTagName("style");for(l=0;l<m.length;l++){i=m[l],u=i.getAttribute("data-href");if(u===r||u===a)return e()}var c=document.createElement("link");c.rel="stylesheet",c.type="text/css",c.onload=e,c.onerror=function(e){var r=e&&e.target&&e.target.src||a,n=new Error("Loading CSS chunk "+o+" failed.\n("+r+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=r,delete s[o],c.parentNode.removeChild(c),t(n)},c.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(c)})).then((function(){s[o]=0})));var r=a[o];if(0!==r)if(r)e.push(r[2]);else{var n=new Promise((function(e,t){r=a[o]=[e,t]}));e.push(r[2]=n);var i,u=document.createElement("script");u.charset="utf-8",u.timeout=120,d.nc&&u.setAttribute("nonce",d.nc),u.src=l(o);var m=new Error;i=function(e){u.onerror=u.onload=null,clearTimeout(c);var t=a[o];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;m.message="Loading chunk "+o+" failed.\n("+r+": "+s+")",m.name="ChunkLoadError",m.type=r,m.request=s,t[1](m)}a[o]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:u})}),12e4);u.onerror=u.onload=i,document.head.appendChild(u)}return Promise.all(e)},d.m=o,d.c=r,d.d=function(o,e,t){d.o(o,e)||Object.defineProperty(o,e,{enumerable:!0,get:t})},d.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},d.t=function(o,e){if(1&e&&(o=d(o)),8&e)return o;if(4&e&&"object"===typeof o&&o&&o.__esModule)return o;var t=Object.create(null);if(d.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:o}),2&e&&"string"!=typeof o)for(var r in o)d.d(t,r,function(e){return o[e]}.bind(null,r));return t},d.n=function(o){var e=o&&o.__esModule?function(){return o["default"]}:function(){return o};return d.d(e,"a",e),e},d.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)},d.p="/",d.oe=function(o){throw console.error(o),o};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var m=0;m<i.length;m++)e(i[m]);var c=u;n.push([0,"chunk-vendors"]),t()})({0:function(o,e,t){o.exports=t("56d7")},"034f":function(o,e,t){"use strict";var r=t("85ec"),s=t.n(r);s.a},"56d7":function(o,e,t){"use strict";t.r(e),t.d(e,"bus",(function(){return q}));t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),s=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("v-app",{staticClass:"rtl"},[t("myNavBar"),t("v-main",{staticClass:"mainBackground"},[t("router-view")],1)],1)},a=[],n=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("nav",[t("v-tabs",{staticClass:"grey lighten-3"},[t("v-tab",{attrs:{to:"/empInfo"}},[o._v(" איוש שעות ")]),t("v-tab",{attrs:{to:"/AdditionalRewards"}},[o._v("גמולים")]),t("v-tab",{attrs:{to:"/calcHours"}},[o._v(" רפורמות עובד ")]),t("v-tab",{attrs:{to:"/HireEmp"}},[o._v(" עובדים ")]),t("v-menu",{attrs:{"offset-y":""},scopedSlots:o._u([{key:"activator",fn:function(e){var r=e.on,s=e.attrs;return[t("v-btn",o._g(o._b({staticClass:"align-self-center mr-4",attrs:{text:""}},"v-btn",s,!1),r),[o._v(" דוחות "),t("v-icon",{attrs:{right:""}},[o._v(" mdi-menu-down ")])],1)]}}])},[t("v-list",[t("v-list-item",{attrs:{to:"/reportWeeklyHours"}},[o._v("איוש שעות")])],1)],1),999==o.$store.state.mossadId?t("v-menu",{attrs:{"offset-y":""},scopedSlots:o._u([{key:"activator",fn:function(e){var r=e.on,s=e.attrs;return[t("v-btn",o._g(o._b({staticClass:"align-self-center mr-4",staticStyle:{magin:"0"},attrs:{text:""}},"v-btn",s,!1),r),[o._v(" מנהלה "),t("v-icon",{attrs:{right:""}},[o._v(" mdi-menu-down ")])],1)]}}],null,!1,2424123248)},[t("v-list",[999==o.$store.state.mossadId?t("v-list-item",{attrs:{to:"/auth"}},[o._v(" הרשאות ")]):o._e(),t("v-list-item",{attrs:{to:"/ImportData"}},[o._v(" ניהול Excel ")]),t("v-list-item",{attrs:{to:"/mossadot"}},[o._v("ניהול מוסדות ")]),t("v-list-item",{attrs:{to:"/mossadotHours"}},[o._v(" מגבלת שעות למוסד ")])],1)],1):o._e(),t("div",{staticClass:"parent",attrs:{id:"navbarInfo"}},[t("p",{staticClass:"child inline-block-child"},[o._v(o._s(o._username))]),t("p",{staticClass:"child inline-block-child"},[o._v(o._s(o._AuthText))]),t("p",{staticClass:"child inline-block-child"},[o._v(o._s(o._mossadName))]),t("v-tooltip",{attrs:{bottom:""},scopedSlots:o._u([{key:"activator",fn:function(e){var r=e.on,s=e.attrs;return[t("v-icon",o._g(o._b({staticClass:"child inline-block-child",attrs:{large:"",color:"primary"},on:{click:function(e){return o.logout()}}},"v-icon",s,!1),r),[o._v("mdi-arrow-left-bold-circle")])]}}])},[t("span",[o._v("התנתק")])])],1)],1)],1)},l=[],d=t("bc3a"),i=t.n(d),u={data:function(){return{mossadName:""}},created:function(){this.test()},mounted:function(){var o=this;q.$on("changeWeeklyHours",(function(){return o.getMossadInfo()}))},computed:{_mossadName:function(){return null!=this.$store.state.mossadInfo?this.$store.state.mossadInfo.mossadName:""},_AuthText:function(){return 999==this.$store.state.mossadId?"(Adimn)":998==this.$store.state.mossadId?"(חשבות שכר)":""},_isLogged:function(){return null!=this.$store.state.token},_mossadId:function(){return this.$store.state.mossadId},_username:function(){return this.$store.state.username}},methods:{test:function(){null!=this.$store.state.logginAs&&this.$store.dispatch("getMossadInfo")},getMossadInfo:function(){var o=this;i.a.get("mossadot/byId",{params:{mossadId:this.$store.state.logginAs}}).then((function(e){o.$store.state.mossadInfo=e.data,o.$store.commit("setMossadInfo",e.data),o.mossadName=e.data.mossadName})).catch((function(e){return o.$store.dispatch("displayErrorMessage",{error:e})}))},logout:function(){this.$store.dispatch("destroyToken").then((function(){localStorage.removeItem("mossadId")}))},isAdmin:function(){return 999==this.$store.state.mossadId}}},m=u,c=(t("bed4"),t("2877")),p=t("6544"),H=t.n(p),f=t("8336"),y=t("132d"),I=t("8860"),h=t("da13"),g=t("e449"),v=t("71a3"),E=t("fe57"),k=t("3a2f"),w=Object(c["a"])(m,n,l,!1,null,"57a0685b",null),b=w.exports;H()(w,{VBtn:f["a"],VIcon:y["a"],VList:I["a"],VListItem:h["a"],VMenu:g["a"],VTab:v["a"],VTabs:E["a"],VTooltip:k["a"]});var M={name:"App",components:{myNavBar:b},data:function(){return{}},created:function(){this.onStart()},methods:{onStart:function(){null!=this.$store.state.token&&(i.a.defaults.headers.Authorization="Bearer "+this.$store.state.token)}}},A=M,D=(t("034f"),t("7496")),W=t("f6c4"),R=Object(c["a"])(A,s,a,!1,null,null,null),_=R.exports;H()(R,{VApp:D["a"],VMain:W["a"]});t("b0c0"),t("d3b7");var S=t("8c4f"),$=(t("2ca0"),t("96cf"),t("1da1")),T=t("2f62"),P=t("0e44");r["a"].use(T["a"]),i.a.defaults.baseURL="http://134.122.120.245:8080/ots-app",i.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var C=new T["a"].Store({plugins:[Object(P["a"])()],state:{token:localStorage.getItem("access_token")||null,mossadId:localStorage.getItem("mossadId")||null,logginAs:localStorage.getItem("mossadId")||null,username:localStorage.getItem("username")||null,mossadInfo:{mossadName:"",mossadId:"",mossadType:""}},getters:{loggedIn:function(o){return null!=o.token},isAdmin:function(o){return 999==o.mossadId},mossadInfo:function(o){return o.mossadInfo},mossadId:function(o){return o.mossadId}},mutations:{retrieveToken:function(o,e){o.token=e},destroyToken:function(o){o.token=null},setMossadInfo:function(o,e){o.mossadInfo=e}},actions:{retrieveToken:function(o,e){return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("/authenticate",{username:e.username,password:e.password}).then((function(t){var r=t.data.jwt;i.a.defaults.headers.Authorization="Bearer "+r,localStorage.setItem("access_token",r),localStorage.setItem("username",e.username),o.state.username=e.username,o.commit("retrieveToken",r)})).catch((function(e){o.dispatch("displayErrorMessage",{error:e})}));case 2:case"end":return t.stop()}}),t)})))()},destroyToken:function(o){o.getters.loggedIn&&(o.state.mossadId=null,o.state.logginAs=null,o.state.mossadInfo=null,o.state.username=null,o.state.token=null,localStorage.removeItem("access_token"),localStorage.removeItem("username"),localStorage.removeItem("mossadId"),o.commit("destroyToken"),N.push({name:"login"}))},displayErrorMessage:function(o,e){void 0!=e.error.response.status&&(401==e.error.response.status||500==e.error.response.status&&void 0!=e.error.response.data.message&&e.error.response.data.message.startsWith("JWT"))?null!=o.state.token&&(alert("התחבר מחדש"),o.dispatch("destroyToken")):void 0==e.error||void 0==e.error.response||void 0==e.error.response.data.errorMessage?console.log(e):alert(e.error.response.data.errorMessage)},getMossadInfo:function(o){i.a.get("mossadot/byId",{params:{mossadId:o.state.logginAs}}).then((function(e){o.state.mossadInfo=e.data,o.commit("setMossadInfo",e.data)})).catch((function(e){return o.dispatch("displayErrorMessage",{error:e})}))}}}),j=C;r["a"].use(S["a"]);var O=[{path:"/login",name:"login",component:function(){return t.e("login").then(t.bind(null,"5790"))}},{path:"/HireEmp",name:"HireEmp",component:function(){return Promise.all([t.e("AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours"),t.e("HireEmployee")]).then(t.bind(null,"062c"))}},{path:"/empInfo",alias:"/",name:"employeeInfo",component:function(){return Promise.all([t.e("AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours"),t.e("EmployeeInfo")]).then(t.bind(null,"246e"))},beforeEnter:function(o,e,t){"employeeInfo"!=o.name||999!=j.state.logginAs&&998!=j.state.logginAs?t():(alert("התחבר כמוסד כדי להכנס לדף זה"),t({name:"auth"}))}},{path:"/AdditionalRewards",name:"AdditionalRewards",component:function(){return Promise.all([t.e("AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards")]).then(t.bind(null,"9aff"))}},{path:"/mossadot",name:"mossadot",component:function(){return Promise.all([t.e("AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours"),t.e("EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours"),t.e("Mossadot")]).then(t.bind(null,"a6f6"))}},{path:"/ImportData",name:"ImportData",component:function(){return Promise.all([t.e("AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours"),t.e("EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours"),t.e("ImportData")]).then(t.bind(null,"9597"))}},{path:"/auth",name:"auth",component:function(){return Promise.all([t.e("AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours"),t.e("EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours"),t.e("ImportData")]).then(t.bind(null,"f913"))}},{path:"/calcHours",name:"calcHours",component:function(){return Promise.all([t.e("AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours"),t.e("calcHours")]).then(t.bind(null,"10f8"))}},{path:"/mossadotHours",name:"mossadotHours",component:function(){return Promise.all([t.e("AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours"),t.e("mossadotHours")]).then(t.bind(null,"0d6b"))}},{path:"/reportWeeklyHours",name:"reportWeeklyHours",component:function(){return Promise.all([t.e("AdditionalRewards~EmployeeInfo~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~calcHours~mossadotHours~reportWeeklyHours"),t.e("AdditionalRewards~HireEmployee~ImportData~Mossadot~mossadotHours~reportWeeklyHours"),t.e("EmployeeInfo~ImportData~Mossadot~calcHours~reportWeeklyHours"),t.e("reportWeeklyHours")]).then(t.bind(null,"a7a1"))}}],x=new S["a"]({routes:O});x.beforeEach((function(o,e,t){"login"===o.name||j.getters.loggedIn?t():t({name:"login"})}));var N=x,V=t("1157"),B=t.n(V),L=t("f309");r["a"].use(L["a"]);var J=new L["a"]({});window.$=window.jQuery=B.a,r["a"].config.productionTip=!1;var q=new r["a"];new r["a"]({router:N,store:C,vuetify:J,render:function(o){return o(_)}}).$mount("#app")},6099:function(o,e,t){},"85ec":function(o,e,t){},bed4:function(o,e,t){"use strict";var r=t("6099"),s=t.n(r);s.a}});
//# sourceMappingURL=app.a5f435f4.js.map