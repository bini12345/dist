(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Mossadot"],{"0361":function(s,t,o){},a6f6:function(s,t,o){"use strict";o.r(t);var a=function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",[o("mossadotMenagement")],1)},e=[],n=function(){var s=this,t=s.$createElement,o=s._self._c||t;return o("div",[o("v-data-table",{staticClass:"elevation-3",attrs:{id:"mossadotTable",headers:s.mossadotHeaders,items:s.mossadot,search:s.search,"footer-props":{"items-per-page-options":[20,50,100,-1],"items-per-page-text":"מספר תוצאות  :"}},scopedSlots:s._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",[o("v-card-title",[o("v-row",[o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{label:"Search",placeholder:"חפש","single-line":"",autocomplete:"off","hide-details":""},model:{value:s.search,callback:function(t){s.search=t},expression:"search"}})],1)],1)],1)],1),o("v-spacer"),o("v-dialog",{attrs:{"max-width":"50%"},scopedSlots:s._u([{key:"activator",fn:function(t){var a=t.on,e=t.attrs;return[o("v-btn",s._g(s._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",e,!1),a),[s._v("צור מוסד")])]}}]),model:{value:s.dialog,callback:function(t){s.dialog=t},expression:"dialog"}},[o("v-card",{staticClass:"center",attrs:{id:"myform"}},[o("h1",[s._v("פרטי מוסד")]),o("v-card-text",[o("v-row",[o("v-col",{attrs:{cols:"12",md:"2"}},[o("v-text-field",{attrs:{type:"number",color:"indigo accent-1",label:"מספר מוסד"},model:{value:s.mossadInfo.mossadId,callback:function(t){s.$set(s.mossadInfo,"mossadId",t)},expression:"mossadInfo.mossadId"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-text-field",{attrs:{color:"indigo accent-1",label:"שם מוסד"},model:{value:s.mossadInfo.mossadName,callback:function(t){s.$set(s.mossadInfo,"mossadName",t)},expression:"mossadInfo.mossadName"}})],1),o("v-col",{attrs:{cols:"12",md:"4"}},[o("v-select",{attrs:{items:s.mossadTypes,"item-text":"typeName","item-value":"typeId",label:"סוג  מוסד"},model:{value:s.mossadInfo.mossadType,callback:function(t){s.$set(s.mossadInfo,"mossadType",t)},expression:"mossadInfo.mossadType"}})],1)],1),o("v-row",[o("v-spacer"),o("v-btn",{staticClass:"moveRight",attrs:{color:"success"},on:{click:function(t){return s.saveMossadInfo()}}},[s._v("שמור")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.mossadType",fn:function(t){var o=t.item;return[s._v(" "+s._s(s.getMossadType(o.mossadType))+" ")]}},{key:"item.actions",fn:function(t){var a=t.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return s.editMossad(a)}}},[s._v("mdi-pencil")]),o("v-icon",{attrs:{small:""},on:{click:function(t){return s.deleteMossad(a)}}},[s._v("mdi-delete")])]}}],null,!0)})],1)},r=[],d=(o("7db0"),o("c975"),o("d81d"),o("bc3a")),i=o.n(d),l=o("1146"),c=o.n(l),m={name:"mossadotMenagement",components:{},data:function(){return{isNew:!1,mossadInfo:{},search:"",dialog:!1,mossadot:[],mossadTypes:[],mossadotHeaders:[{text:"מוסד",value:"mossadName"},{text:"סוג מוסד",value:"mossadType"},{text:"פעולות",value:"actions",sortable:!1}]}},created:function(){this.getAllMossadot(),this.getmossadTypes()},computed:{_mossadotName:function(){return this.mossadot.map((function(s){return s.mossadName}))}},methods:{getAllMossadot:function(){var s=this;i.a.get("/mossadot/all").then((function(t){s.mossadot=t.data})).catch((function(t){return s.$store.dispatch("displayErrorMessage",{error:t})}))},getmossadTypes:function(){var s=this;i.a.get("/mossadType/all").then((function(t){s.mossadTypes=t.data})).catch((function(t){return s.$store.dispatch("displayErrorMessage",{error:t})}))},createMossad:function(){this.isNew=!0,this.mossadInfo={}},saveMossadInfo:function(){var s=this,t=!1;return i()({url:"/mossadot/save",method:"post",data:this.mossadInfo}).then((function(){alert("הנתונים נשמרו בהצלחה"),t=!0,location.reload()})).catch((function(t){s.$store.dispatch("displayErrorMessage",{error:t})})),t},editMossad:function(s){this.editedIndex=this.mossadot.indexOf(s),this.mossadInfo=s,this.dialog=!0},deleteMossad:function(s){i.a.delete("/mossadot/byId",{params:{mossadId:s.mossadId}}).then((function(){alert("המוסד נמחק בהצלחה"),location.reload()})).catch((function(s){return console.log(s)}))},getMossadType:function(s){var t=this.mossadTypes.find((function(t){return t.typeId==s}));return null!=t?t.typeName:""},onExport:function(){var s=this.mossadot;s.unshift({mossadId:"קוד מוסד",mossadName:"שם מוסד",mossadType:"סוג מוסד"});var t=c.a.utils.json_to_sheet(s,{skipHeader:!0,Views:[{RTL:!0}]}),o=c.a.utils.book_new();c.a.utils.book_append_sheet(o,t,"מוסדות"),this.set_right_to_left(o),c.a.writeFile(o,"מוסדות.xlsx")},set_right_to_left:function(s){s.Workbook||(s.Workbook={}),s.Workbook.Views||(s.Workbook.Views=[]),s.Workbook.Views[0]||(s.Workbook.Views[0]={}),s.Workbook.Views[0].RTL=!0}}},u=m,f=(o("f508"),o("2877")),p=o("6544"),v=o.n(p),h=o("8336"),b=o("b0af"),k=o("99d9"),y=o("62ad"),g=o("8fea"),_=o("169a"),I=o("132d"),T=o("0fd9"),x=o("b974"),w=o("2fa4"),V=o("8654"),M=o("71d9"),N=o("2a7f"),C=Object(f["a"])(u,n,r,!1,null,"f87f61e0",null),$=C.exports;v()(C,{VBtn:h["a"],VCard:b["a"],VCardText:k["a"],VCardTitle:k["b"],VCol:y["a"],VDataTable:g["a"],VDialog:_["a"],VIcon:I["a"],VRow:T["a"],VSelect:x["a"],VSpacer:w["a"],VTextField:V["a"],VToolbar:M["a"],VToolbarTitle:N["a"]});var W={name:"mossadot",components:{mossadotMenagement:$}},E=W,S=Object(f["a"])(E,a,e,!1,null,"5fc32250",null);t["default"]=S.exports},f508:function(s,t,o){"use strict";var a=o("0361"),e=o.n(a);e.a}}]);
//# sourceMappingURL=Mossadot.27a6cdd0.js.map